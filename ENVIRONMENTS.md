# VoyagrIQ Environment Configuration

This document explains the different environments and how to use them.

## Environments

### 1. **Production** (voyagriq.com)
- **Stripe**: LIVE mode (real credit cards, real charges)
- **URL**: https://voyagriq.com
- **Branch**: `main` (auto-deploys to production)
- **Use for**: Real customers, actual business

### 2. **Staging/Preview** (Vercel Preview)
- **Stripe**: TEST mode (test cards only, no real charges)
- **URL**: Generated by Vercel for each branch/PR
- **Branch**: Any branch except `main`
- **Use for**: Testing new features, QA, demos

### 3. **Local Development**
- **Stripe**: TEST mode (test cards only)
- **URL**: http://localhost:3000
- **Use for**: Development, debugging

## Environment Variables by Environment

### Production (.env.vercel - already configured)
- Uses LIVE Stripe keys
- Real payment processing
- Production domain: voyagriq.com

### Staging (.env.staging)
- Uses TEST Stripe keys
- Test payment processing (no real charges)
- Preview domain: Auto-generated by Vercel

### Local (.env.local or .env.test)
- Uses TEST Stripe keys
- Test payment processing
- Local domain: localhost:3000

## How to Test Safely

### Option 1: Use Staging Environment (Recommended)

1. **Create a staging branch:**
   ```bash
   cd /Users/james/claude/voyagriq-app
   git checkout -b staging
   git push origin staging
   ```

2. **Configure Vercel Preview environment:**
   - Vercel will auto-deploy the `staging` branch
   - URL will be like: `voyagriq-app-git-staging-yourname.vercel.app`

3. **Add staging environment variables in Vercel:**
   - Go to Settings ‚Üí Environment Variables
   - Select "Preview" environment
   - Add all variables from `.env.staging`

4. **Test with test credit cards:**
   - Success: `4242 4242 4242 4242`
   - Declined: `4000 0000 0000 9995`
   - Any future expiry date, any CVC

### Option 2: Use Local Development

1. **Copy test environment:**
   ```bash
   cd "/Users/james/claude/Travel Reporting/trip-cost-insights"
   cp .env.test .env.local
   ```

2. **Start local server:**
   ```bash
   npm run dev
   ```

3. **Visit**: http://localhost:3000

4. **Enable dev mode (bypasses payment):**
   - Visit: http://localhost:3000/enable-dev-mode
   - This sets a cookie to skip Stripe checkout

## Stripe Test Cards

When using TEST mode (staging or local):

- **Success**: `4242 4242 4242 4242`
- **Declined**: `4000 0000 0000 9995`
- **Requires authentication**: `4000 0025 0000 3155`
- **Insufficient funds**: `4000 0000 0000 9995`

Any future expiry date and any 3-digit CVC will work.

## Switching Between Environments

### For Production Testing:
```bash
git checkout main
git push origin main
# Auto-deploys to voyagriq.com
```

### For Staging Testing:
```bash
git checkout staging
# Make changes
git push origin staging
# Auto-deploys to preview URL
```

### For Local Testing:
```bash
npm run dev
# Visit http://localhost:3000
```

## Important Notes

‚ö†Ô∏è **Production uses LIVE Stripe keys** - Real charges will be made!

‚úÖ **Staging and Local use TEST Stripe keys** - Safe for testing, no real charges

üîí **Never commit .env files** - They're in .gitignore for security
